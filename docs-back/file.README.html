<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: README
  
    &mdash; Documentation by YARD 0.9.26
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "README";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="file_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'>
<p><a href="https://gitmoji.dev"><img src="https://img.shields.io/badge/gitmoji-%20üòú%20üòç-FFDD67.svg"></a> <a href="https://github.com/rubocop-hq/rubocop"><img src="https://img.shields.io/badge/code_style-rubocop-brightgreen.svg"></a></p>

<p><a href="https://github.com/FlowFintech/FlowBack/graphs/contributors"><img src="https://img.shields.io/github/contributors/othneildrew/Best-README-Template.svg?style=for-the-badge"></a></p>

<p><br></p>

<p>&lt;img src=‚Äú<a href="https://dev.flowfin.tech/docs-back/docs/flow-header.svg">dev.flowfin.tech/docs-back/docs/flow-header.svg</a>‚Äù&gt;</p>

<p><br></p>

<p><br></p>

<h1 id="label-Ruby+StyleGuide+-28Read-29"><a href="https://dev.flowfin.tech/docs-back/style-guide-ruby.html">Ruby StyleGuide (Read)</a></h1>

<p><br></p>

<h1 id="label-Getting+Started">Getting Started</h1>

<p>‚ö†Ô∏è First you must go to <a href="https://dev.flowfin.tech">Flow Developer Portal</a> for the general requirements and the project overview.</p>
<hr>
<p><br></p>

<h2 id="label-3Cimg+src-3D-22.-2Fdocs-2Fruby.svg-22+width-3D-2230px-22+title-3D-22Ruby-22-3E+Ruby">&lt;img src=‚Äúhttps://dev.flowfin.tech/assets/ruby.svg‚Äù width=‚Äú30px‚Äù title=‚ÄúRuby‚Äù&gt; <a href="https://www.ruby-lang.org/en/documentation/installation/">Ruby</a></h2>

<p>Is possible that you already have Ruby installed in your computer, you can check it typing the following comand in your terminal.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ruby'>ruby</span> <span class='op'>-</span><span class='id identifier rubyid_v'>v</span>
</code></pre>

<p><br></p>

<h3 id="label-Installing+Ruby">Installing Ruby</h3>

<p><strong><em>macOS</em></strong> using <a href="http://brew.sh/"">Homebrew</a></p>

<pre class="code ruby"><code class="ruby">brew install ruby@2.6.5
</code></pre>

<p><strong><em>Ubuntu</em></strong></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_sudo'>sudo</span> <span class='id identifier rubyid_apt'>apt</span> <span class='id identifier rubyid_install'>install</span> <span class='id identifier rubyid_ruby'>ruby</span><span class='op'>-</span><span class='id identifier rubyid_full'>full</span>
</code></pre>

<p>More info about Ruby instalation <a href="https://www.ruby-lang.org/en/documentation/installation/">here</a></p>

<p>We are using ruby version <strong><em>2.6.5</em></strong>, is important to use this version. If you are using a diferent version of Ruby, upgrade or downgrade the version using the <a href="http://rvm.io">Ruby Version Manager</a> (RVM) that allows you to install and manage multiple installations of Ruby on your system. It can also manage different gemsets.</p>

<p><br> &lt;hr&gt; <br></p>

<h1 id="label-3Cimg+src-3D-22.-2Fdocs-2Foctocat.svg-22+width-3D-2230px-22+title-3D-22Cloning+the+Repository-22-3E+Cloning+the+Repository">&lt;img src=‚Äúhttps://dev.flowfin.tech/assets/octocat.svg‚Äù width=‚Äú30px‚Äù title=‚ÄúCloning the Repository‚Äù&gt; <a href="https://github.com/FlowFintech/FlowBack">Cloning the Repository</a></h1>

<p><br></p>

<p><strong><em>Ubuntu</em></strong></p>
<ul><li>
<p>Clone the repo</p>
</li></ul>

<p><code>terminal   your_username@pc:~$ git clone git@github.com:FlowFintech/FlowBack.git </code></p>
<ul><li>
<p>Move into the cloned folder</p>
</li></ul>

<p><code>terminal   your_username@pc:~$ cd FlowBack </code></p>

<h2 id="label-Normal+Install">Normal Install</h2>
<ul><li>
<p>Get the dependencies needed for the app</p>
</li></ul>

<p><code>terminal   FlowBack:~$ bundle install </code></p>
<ul><li>
<p>Set environment variables</p>
</li></ul>

<p><code>terminal   FlowBack:~$ export USERNAME=&quot;change to your database_username&quot; </code></p>

<p><code>terminal   FlowBack:~$ export PASSWORD=&quot;change to your database_password&quot; </code></p>

<p><code>terminal   FlowBack:~$ export HOST=&quot;change to your host address&quot; </code></p>
<ul><li>
<p>NB: Defaults</p>
</li></ul>

<p><code>terminal     1. The default host is: &quot;localhost&quot; if you have not changed it     2. Ensure that the USERNAME is a Superuser in psql </code></p>
<ul><li>
<p>Help cookies</p>
</li><li>
<p>Go to your terminal in ubuntu and type: <code>sudo su - postgres</code></p>
</li><li>
<p>Then <code>psql</code> to access - Postgres</p>
</li><li>
<p><code>\du</code> to list all user and their attributes</p>
</li><li>
<p><code>ALTER ROLE username SUPERUSER</code> to alter the user.</p>
</li><li>
<p>Create a postgres role to let rails manage the db:</p>
</li></ul>

<p><code>terminal   rake db:create </code></p>
<ul><li>
<p>Setup databases migrations:</p>
</li></ul>

<p><code>terminal   rake db:migrate </code></p>
<ul><li>
<p>Seed data for development</p>
</li></ul>

<p><code>terminal   your_username@pc:~$ rake db:seed </code></p>
<ul><li>
<p>Start the server and use the app</p>
</li></ul>

<p><code>terminal   your_username@pc:~$ rails s </code></p>

<h2 id="label-Docker+Install">Docker Install</h2>
<ul><li>
<p>Install Docker if you haven&#39;t done yet from <a href="https://www.docker.com/get-started">here</a>.</p>
</li><li>
<p>Make sure you have docker running before commencing with this installation.</p>
</li><li>
<p>You may also need to uncomment the 25th line of the <code>config/database.yml</code> file for some of the instructions below to work.</p>
</li></ul>

<p>‚ö†Ô∏è<strong>Be sure NOT to commit and push the changes affecting this file though</strong>.</p>

<pre class="code ruby"><code class="ruby"><span class='comment'>#  host: &lt;%= ENV[&#39;HOST&#39;] || &#39;flowback_db_1&#39; %&gt;
</span></code></pre>
<ul><li>
<p>Docker is already configured. Please DO NOT add anything to the following files when pushing changes:</p>
</li><li>
<p><code>config/database.yml</code></p>
</li><li>
<p><code>docker-compose.yml</code></p>
</li><li>
<p><code>dockerfile</code></p>
</li></ul>

<h3 id="label-After+you+have+started+docker-2C+in+your+root+directory+run+the+following+commands+in+the+order">After you have started docker, in your root directory run the following commands in the order</h3>

<p><strong><em>Steps:</em></strong></p>
<ol><li>
<p>Go to backend folder</p>
</li><li>
<p>Run this one time only:</p>
</li></ol>

<p><code>terminal   your_username@pc:~$ docker-compose build </code></p>

<p><strong><em>NOTE: Any change in the Gemfile or the Dockerfile, should be the only times you‚Äôll need to rebuild (Run the above command).</em></strong></p>
<ul><li>
<p>Next run:</p>
</li></ul>

<pre class="code ruby"><code class="ruby">your_username@pc:~$ docker-compose up
</code></pre>
<ul><li>
<p>Now open a new terminal, and inside the flow directory run the following to create the database, its relations by also running the migrations.</p>
</li></ul>

<pre class="code ruby"><code class="ruby">your_username@pc:~$ docker-compose run web rails db:create &amp;&amp; docker-compose run web rails db:migrate
</code></pre>
<ul><li>
<p>If all‚Äôs well, you should see some PostgreSQL output (in the first terminal).</p>
</li></ul>

<pre class="code ruby"><code class="ruby">Starting flowback_db_1 ... done
Starting flowback_web_1 ... done
Attaching to flowback_db_1, flowback_web_1
db_1   |
db_1   | PostgreSQL Database directory appears to contain a database; Skipping initialization
db_1   |
db_1   | 2021-01-26 22:59:35.013 UTC [1] LOG:  starting PostgreSQL 13.1 (Debian 13.1-1.pgdg100+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 8.3.0-6) 8.3.0, 64-bit
db_1   | 2021-01-26 22:59:35.014 UTC [1] LOG:  listening on IPv4 address &quot;0.0.0.0&quot;, port 5432
db_1   | 2021-01-26 22:59:35.014 UTC [1] LOG:  listening on IPv6 address &quot;::&quot;, port 5432
db_1   | 2021-01-26 22:59:35.135 UTC [1] LOG:  listening on Unix socket &quot;/var/run/postgresql/.s.PGSQL.5432&quot;
db_1   | 2021-01-26 22:59:35.154 UTC [27] LOG:  database system was shut down at 2021-01-26 22:59:29 UTC
db_1   | 2021-01-26 22:59:35.174 UTC [1] LOG:  database system is ready to accept connections
web_1  | =&gt; Booting Puma
web_1  | =&gt; Rails 6.0.3.4 application starting in development
web_1  | =&gt; Run `rails server --help` for more startup options
web_1  | Puma starting in single mode...
web_1  | * Version 4.3.7 (ruby 2.6.5-p114), codename: Mysterious Traveller
web_1  | * Min threads: 5, max threads: 5
web_1  | * Environment: development
web_1  | * Listening on tcp://0.0.0.0:3001
web_1  | Use Ctrl-C to stop
</code></pre>
<ul><li>
<p>The app should now be up and running</p>
</li></ul>

<p>Head over to: <a href="http://localhost:3001">localhost:3001</a></p>

<h4 id="label-Short+order+of+the+same+instructions">Short order of the same instructions</h4>

<p><strong><em>Steps:</em></strong></p>
<ul><li>
<p>Go to backend folder.</p>
</li><li>
<p>Run this command to bundle up everything and start the server at one go:</p>
</li></ul>

<pre class="code ruby"><code class="ruby">your_username@pc:~$ docker-compose up --build
</code></pre>
<ul><li>
<p>Open a new terminal, and inside the flow directory run the following to create and respective databases and run the migrations.</p>
</li></ul>

<pre class="code ruby"><code class="ruby">docker-compose run web rails db:create &amp;&amp; docker-compose run web rails db:migrate
</code></pre>
<ul><li>
<p>Confirm if the server is running by heading over to: <a href="http://localhost:3001">localhost:3001</a></p>
</li></ul>

<h3 id="label-Note-3A+Instructions+to+seed+the+database+should+follow+soon"><strong>Note:</strong> Instructions to seed the database should follow soon</h3>
<hr>
<p><br></p>

<h2 id="label-Contributing">Contributing</h2>

<p>Depending on whether your implementing a <strong>feature</strong>, doing a <strong>chore</strong>, fixing <strong>bugs</strong> or a <strong>hotfix</strong>, you must use the following branches naming convention: type/short-description <em>Example</em></p>

<pre class="code ruby"><code class="ruby">git checkout -b bug/fixing-layout
git checkout -b feature/adding-loan-details
git checkout -b chore/correct-typo
git checkout -b hotfix/refactor-jb
</code></pre>

<blockquote>
<p>Your feature/bug branch should be requested to merge into the <code>dev</code> branch and upon approval and merging of the PR, the branch should be deleted.</p>
</blockquote>

<p><br></p>

<h3 id="label-Important-3A+Do+not+install+any+Gem-2C+if+you+feel+you+miss+some+Gem-2C+create+a+discussion+thread+in+-23backend+channel+in+Slack"><strong>Important</strong>: Do not install any Gem, if you feel you miss some Gem, create a discussion thread in #backend channel in Slack</h3>

<p><br></p>

<p>You can report &lt;a href=‚Äú<a href="https://github.com/FlowFintech/FlowBack/issues">Report‚Äù>github.com/FlowFintech/FlowBack/issues‚Äú>Report</a> Bugs here&lt;/a&gt; or open a discussion thread in Slack.</p>

<p><br> &lt;hr&gt; <br></p>

<h2 id="label-Roles">Roles</h2>

<p>The project has three type of users.</p>

<p><strong>Admin:</strong> This is the sole owner and add/remove a Contributor. Has full system access</p>

<p><strong>User:</strong> This is the investors who comes with his/her data after investing on platforms to utilize our system to manage this data and be of value to them.</p>

<p><strong>Contributor:</strong> This is a user(moderators) given privileges by the admin to add, edit, delete some for the information related to the core app functions eg add platforms data so when an investor come to use the system all they need to scroll from available options.</p>

<h2 id="label-API+Endpoints">API Endpoints</h2>
<ul><li>
<p>Add the localhost url before the api prefix</p>
</li><li>
<p>Use Postman to view and run the endpoints</p>
</li></ul>

<h3 id="label-Configure+postman+for+requests+with+devise_token_auth+token">Configure postman for requests with devise_token_auth token</h3>
<ul><li>
<p>Using cURL:</p>
</li></ul>

<pre class="code ruby"><code class="ruby">curl -XGET -v -H &#39;Content-Type: application/json&#39; -H &#39;access-token: lW1c60hYkRwAinzUqgLfsQ&#39; -H &#39;client: W_xCQuggzNOVeCnNZbjKFw&#39; -H &quot;uid: email@domain.com&quot;  http://127.0.0.1:3000/api/v1/user_accounts
</code></pre>
<ul><li>
<p>Using Postman:</p>
</li><li>
<p>Create a new user with a POST request to your signup request, in this case is <a href="http://localhost:3000/api/v1/auth/sign_in">localhost:3000/api/v1/auth/sign_in</a> and in Body with RAW format set the params you need to create a new user (like in the example) and click send. or login  &lt;img src="<img src="https://dev.flowfin.tech/docs-back/docs/screenshots/register.png" />" alt="screenshot1"/&gt;</p>
</li><li>
<p>Now that you got the response of the request, the params you need are in the header of the request, click to Headers tab to see them.  &lt;img src="<img src="https://dev.flowfin.tech/docs-back/docs/screenshots/header.png" />" alt="screenshot1"/&gt;</p>
</li><li>
<p>Then create a new request in Postman with the GET that requires the authorization and in Headers set the values access-token, client, uid from the header of the last request. &lt;img src="<img src="https://dev.flowfin.tech/docs-back/docs/screenshots/request.png" />" alt="screenshot1"/&gt; <br> &lt;hr&gt; <br></p>
</li></ul>
<!-- MARKDOWN LINKS & IMAGES --><!-- https://www.markdownguide.org/basic-syntax/#reference-style-links --></div></div>

      <div id="footer">
  Generated on Sat Jan 30 12:35:56 2021 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.26 (ruby-2.6.5).
</div>

    </div>
  </body>
</html>